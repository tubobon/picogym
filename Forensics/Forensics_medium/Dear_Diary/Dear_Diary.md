# Dear Diary
## 解法
fileコマンドとfsstatコマンドでファイルシステムの検証。\
ファイルシステムは無いと表示されたが、mmlsにパーティションテーブルがあったため、offsetがずれているだけだと確信\
offsetを指定して`fls+icat`を試してみると普通に中身を見れた\
なかに`its-all-in-the-name`といった怪しいファイルがあったが中身は何もない。\
めっちゃいろいろ探したけどマジでわからなかったのでWriteupをチラ見すると、どうやら今回のファイルシステム`ext4`にはジャーナルというファイルやディレクトリの変更履歴を保持しているログファイルがあるらしい。\
ジャーナルのinode番号は8で、`fls`でこのinode番号を指定すると過去のファイル変更履歴を見ることができた。`fls -r -o 1140736 disk.flag.img 8`

```
+ r/r 1845:     its-all-in-the-name
-/- 38975:      ܯOL�
r/r 1843:       force-wait.sh
r/r 1844:       innocuous-file.txt
-/- * 0:        �^�e�^�e
r/r 1845:       original-filename
r/r 1845:       pic
-/- * 0:        �^�e�^�e
r/r 1845:       oCT
-/- * 0:        �^�e�^�e
-/- 18327:      d.��d.���?Yѱzse���
r/r 1845:       F{1
-/- * 0:        ^^�e�^�e
-/- 46451:      $?��$?��4q�<q^�e,���
r/r 1845:       _53
-/- * 0:        D^�e�^�e
r/r 1845:       3_n
-/- * 0:        ]^�e�^�e
-/- 13793:      ��w6��w6�?Yѱzse���
-/- 3215:       |��|����w6q^�e,���
r/r 1845:       4m3
-/- * 0:        v^�e�^�e
r/r 1845:       5_8
-/- * 0:        �^�e�^�e
r/r 1845:       0d2
-/- * 0:        �^�e�^�e
r/r 1845:       4b3
-/- * 0:        �^�e�^�e
r/r 1845:       0}
-/- * 0:        �^�e�^�e
r/r 1845:       its-all-in-the-name
-/- * 0:        ^^�e�^�e
-/- 3016:       h*.
-/- 61306:      ���������*^�e�
```

よって文字列を連結するとflagを得た。`picoCTF{1_533_n4m35_80d24b30}`

余談になるのだが`fls`でinode番号を指定するのを今回初めてやった。中身見るなら`icat`じゃねと思っていたら、ジャーナルはバイナリ形式らしく、ろくな文字が出ないらしい。\
`fls` = ディスクイメージ内のファイル一覧表示という認識なのだが、このジャーナルに関しては`inode 8`を指定することで`fls`（ここ大事）でファイル名などの変更履歴を見れるという

